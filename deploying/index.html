
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Deploying</title>
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css?v=3c4467f06c">

    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="xyz">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Deploying">
    <meta property="og:description" content="Deploying serverless with Zeit Now
Node/npm will be required on your machine in order to deploy XYZ. Installing
node will vary depending on your operating system. npm is required to install
the Zeit Now CLI [https://github.com/zeit/now-cli].

With the Zeit Now CLI installed an XYZ instance can be deployed directly from
the GitHub repository.

now geolytix/xyz


This will deploy the XYZ master branch from the GitHub repository with zero
configurations.

You can now follow the link from the now de">
    <meta property="og:url" content="http://localhost:2368/deploying/">
    <meta property="article:published_time" content="2019-02-13T13:30:02.000Z">
    <meta property="article:modified_time" content="2019-02-13T13:35:09.000Z">
    <meta property="article:tag" content="Developer Guide">
    
    <meta property="article:publisher" content="https://www.facebook.com/ghost">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Deploying">
    <meta name="twitter:description" content="Deploying serverless with Zeit Now
Node/npm will be required on your machine in order to deploy XYZ. Installing
node will vary depending on your operating system. npm is required to install
the Zeit Now CLI [https://github.com/zeit/now-cli].

With the Zeit Now CLI installed an XYZ instance can be deployed directly from
the GitHub repository.

now geolytix/xyz


This will deploy the XYZ master branch from the GitHub repository with zero
configurations.

You can now follow the link from the now de">
    <meta name="twitter:url" content="http://localhost:2368/deploying/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Robert Hurst">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Developer Guide">
    <meta name="twitter:site" content="tryghost">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "xyz",
        "logo": "https://static.ghost.org/v1.0.0/images/ghost-logo.svg"
    },
    "author": {
        "@type": "Person",
        "name": "Robert Hurst",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/f8ec826779357961b44641cda8771980?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "http://localhost:2368/author/robert/",
        "sameAs": []
    },
    "headline": "Deploying",
    "url": "http://localhost:2368/deploying/",
    "datePublished": "2019-02-13T13:30:02.000Z",
    "dateModified": "2019-02-13T13:35:09.000Z",
    "keywords": "Developer Guide",
    "description": "Deploying serverless with Zeit Now\nNode/npm will be required on your machine in order to deploy XYZ. Installing\nnode will vary depending on your operating system. npm is required to install\nthe Zeit Now CLI [https://github.com/zeit/now-cli].\n\nWith the Zeit Now CLI installed an XYZ instance can be deployed directly from\nthe GitHub repository.\n\nnow geolytix/xyz\n\n\nThis will deploy the XYZ master branch from the GitHub repository with zero\nconfigurations.\n\nYou can now follow the link from the now de",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368/"
    }
}
    </script>

    <meta name="generator" content="Ghost 2.14">
    <link rel="alternate" type="application/rss+xml" title="xyz" href="../rss/index.html">

</head>
<body class="post-template tag-developer-guide">

    <div class="site-wrapper">

        

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
                <a class="site-nav-logo" href="../"><img src="https://static.ghost.org/v1.0.0/images/ghost-logo.svg" alt="xyz"></a>
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="../">Home</a></li>
    <li class="nav-tag" role="menuitem"><a href="http://localhost:2368/tag/getting-started/">Tag</a></li>
    <li class="nav-author" role="menuitem"><a href="http://localhost:2368/author/ghost/">Author</a></li>
    <li class="nav-help" role="menuitem"><a href="https://docs.ghost.org">Help</a></li>
</ul>

    </div>
    <div class="site-nav-right">
        <div class="social-links">
                <a class="social-link social-link-fb" href="https://www.facebook.com/ghost" title="Facebook" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
</a>
                <a class="social-link social-link-tw" href="https://twitter.com/tryghost" title="Twitter" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
</a>
        </div>
            <a class="rss-button" href="https://feedly.com/i/subscription/feed/http://localhost:2368/rss/" title="RSS" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><circle cx="6.18" cy="17.82" r="2.18"></circle><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"></path></svg>
</a>
    </div>
</nav>
    </div>
</header>


<main id="site-main" class="site-main outer">
    <div class="inner">

        <article class="post-full post tag-developer-guide no-image">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="2019-02-13">13 February 2019</time>
                        <span class="date-divider">/</span> <a href="../tag/developer-guide/">Developer Guide</a>
                </section>
                <h1 class="post-full-title">Deploying</h1>
            </header>


            <section class="post-full-content">
                <div class="post-content">
                    <h1 id="deploying-serverless-with-zeit-now">Deploying serverless with Zeit Now</h1><p>Node/npm will be required on your machine in order to deploy XYZ. Installing node will vary depending on your operating system. npm is required to install the <a href="https://github.com/zeit/now-cli" rel="noopener noreferrer">Zeit Now CLI</a>.</p><p>With the Zeit Now CLI installed an XYZ instance can be deployed directly from the GitHub repository.</p><pre><code>now geolytix/xyz
</code></pre>
<p>This will deploy the XYZ master branch from the GitHub repository with zero configurations.</p><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LPCTfppiSsRRhv-y1qY%2F-LPCVImqStB9mE7HBZJG%2Fxyz%20now%20deploy.gif?alt=media&amp;token=93a731a7-80e9-4ade-b6f4-b0ac269a0b1e" class="kg-image"></figure><p>You can now follow the link from the now deployment output and will see the zero configuration map in your browser.</p><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LPCTfppiSsRRhv-y1qY%2F-LPCVfBdDAI6VkSceExL%2Fimage.png?alt=media&amp;token=b513253b-11e8-428d-8f3b-92095e397a0c" class="kg-image"></figure><p><a href="https://zeit.co/docs/features/env-and-secrets" rel="noopener noreferrer">Zeit Now environment variables</a> can be added using the -e option. These environment variables which are available to the Node process allow to configure a custom environment for a deployment.</p><pre><code>now geolytix/xyz 
\-e DIR="/demo" 
\-e ALIAS=”geolytix.xyz” 
\-e PRIVATE="postgres://user:@pg.xyz.geolytix.net:5432/xyz|demo.users" 
\-e SECRET="" 
\-e TRANSPORT="smtps:xyz%40geolytix.co.uk:@smtp.gmail.com" 
\-e WORKSPACE="postgres://user:@pg.xyz.geolytix.net:5432/xyz|demo.settings" 
\-e DBS_XYZ="postgres://user:@pg.xyz.geolytix.net:5432/xyz" 
\-e KEY_MAPBOX="access_token=.."
</code></pre>
<h1 id="deploying-on-a-ubuntu-server">Deploying on a Ubuntu server</h1><p>For deployments on Ubuntu we use the <a href="https://github.com/Unitech/pm2" rel="noopener noreferrer">PM2</a> process manager to run multiple instances of the framework on different ports on the same server. Environment settings for PM2 instances can be provided from a JSON document.</p><pre><code>pm2 start myapplication.json
</code></pre>
<h1 id="deploying-on-aws-elastic-beanstalk-">Deploying on AWS (Elastic Beanstalk)</h1><p>The first requirement will be to become an AWS customer, if you are not already signed up follow the following link to <a href="https://console.aws.amazon.com/elasticbeanstalk" rel="noopener noreferrer">Sign up</a>.</p><p>The next step will be to install the Elastic Beanstalk Command Line Interface (EB CLI). There are different requirments for various operating systems. The following will provide you with an overview specific to your <a href="https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/eb-cli3-install.html" rel="noopener noreferrer">environment</a>.</p><p>Another requirement before deploying will be to create AWS access keys to your AWS resources. Log into the AWS Console, and seach under find services for 'IAM'.</p><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LYCHXCJflUna7gaSjH0%2F-LYCNYV0Q2bkcmanyJQZ%2Fimage.png?alt=media&amp;token=146ec5f2-18a6-4185-8df7-517f94a59d8d" class="kg-image"><figcaption><span class="text-4505230f--TextH400-3033861f" style="max-width: 100%;">Navigating to IAM</span></figcaption></figure><p>Navigate to the 'Users' and then select 'Add User'</p><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LYCHXCJflUna7gaSjH0%2F-LYCO8D4LX0ZgvlYoAvX%2Fimage.png?alt=media&amp;token=b5b19cba-72a5-4cca-8f1b-fee690468f2e" class="kg-image"><figcaption><span class="text-4505230f--TextH400-3033861f" style="max-width: 100%;">IAM User Creation</span></figcaption></figure><p>Provide a username and give the user the access type of 'Programmatic access', hit next.</p><p>The next step will be to attach a Policy to the User. The Policy that we are going to attach will be the 'AdministratorAccess' . Hit next once complete. Skip the add tags section. And then hit Create User</p><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LYCHXCJflUna7gaSjH0%2F-LYCObxut4G88OFx23fC%2Fimage.png?alt=media&amp;token=05ef689f-428f-4733-9ccf-36940b7ac1dc" class="kg-image"><figcaption><span class="text-4505230f--TextH400-3033861f" style="max-width: 100%;">User Policy Association</span></figcaption></figure><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LYCHXCJflUna7gaSjH0%2F-LYCOyDKPy00NhQCUeWK%2Fimage.png?alt=media&amp;token=77493130-a4bb-48f6-8a76-c03eb21e4945" class="kg-image"><figcaption><span class="text-4505230f--TextH400-3033861f" style="max-width: 100%;">User Creation</span></figcaption></figure><p>Once the user is created the Access Key ID and Secret Access Key will be available for use.</p><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LYCHXCJflUna7gaSjH0%2F-LYCPANDYQEZ6JZWlecp%2Fimage.png?alt=media&amp;token=587ccde5-5685-4cca-be19-a51fa5e45786" class="kg-image"><figcaption><span class="text-4505230f--TextH400-3033861f" style="max-width: 100%;">User Creation Access Key and Secret Access Key</span></figcaption></figure><p>Keep these keys on hand, as we will need them later on to configure the CLI.</p><p>To ensure that you have installed EB CLI correctly run the following : <code>eb --version</code></p><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LYCHXCJflUna7gaSjH0%2F-LYCKVCe52RLamAJb8t2%2Fimage.png?alt=media&amp;token=15b7ce3b-11e9-43c4-8274-c30d20e31357" class="kg-image"><figcaption><span class="text-4505230f--TextH400-3033861f" style="max-width: 100%;">EB CLI Version</span></figcaption></figure><p>Next navigate to the directory of the XYZ application that is ready for deployment. Once at the root directory we need to initiate a EB CLI configuration. <code>eb init</code></p><p>The first setting for the deployment will be to select a region, where the application will be deployed. </p><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LYCHXCJflUna7gaSjH0%2F-LYCMSOtjYXCDxMGX8EH%2Fimage.png?alt=media&amp;token=dcfb96a0-1d53-4ecd-84db-c3b4db6efb79" class="kg-image"><figcaption><span class="text-4505230f--TextH400-3033861f" style="max-width: 100%;">Region Selection</span></figcaption></figure><p>The next step will be to set the aws-access-id and secret.</p><figure class="kg-card kg-image-card"><img src="https://blobscdn.gitbook.com/v0/b/gitbook-28427.appspot.com/o/assets%2F-LMms4_qYZAl-8nd6vhU%2F-LYCHXCJflUna7gaSjH0%2F-LYCQ4vSqH2KlUovnbwH%2Fimage.png?alt=media&amp;token=8ef3009b-cda3-492b-a34e-2e8a3e6ef835" class="kg-image"><figcaption><span class="text-4505230f--TextH400-3033861f" style="max-width: 100%;">Security Details</span></figcaption></figure><p>The Next step will to select a current application or create a new application. The next setting will be to make use of CodeCommit. This will depend on whether or not you make use of this.</p><p>The next step will be to create a .ebignore file that will upload only files that are not ignored, similar to a .gitignore. Create this in the root of your application.</p><p>Use the following in the .ebignore </p><pre><code>.idea/
.vscode/
.env
.DS_Store
.sass-cache/
.git
node_modules
public/css/.sass-cache/
</code></pre>
<p>The next step is to define the instance environment properties. These will differ from instance to instance. These settings need to go into a directory called <code>.ebextensions</code> create a file with the <code>*.config</code> extension. This file is what AWS will read to create environment properties that are crucial to the XYZ framework. The configuration makes use of YAML.</p><pre><code>option_settings:  
    - option_name: DIR
      value: /test
    - option_name: ALIAS
      value: geolytix.xyz
    - option_name: PRIVATE
      value:
    - option_name: SECRET
      value:   
    - option_name: TRANSPORT
      value:   
    - option_name: WORKSPACE
      value:
    - option_name: DBS_XYZ
      value:
    - option_name: CLOUDINARY
      value:
    - option_name: KEY_GOOGLE
      value:
    - option_name: KEY_HERE
      value:
    - option_name: KEY_MAPBOX
      value:
    - option_name: LOG_LEVEL
      value: info
</code></pre>
<p> Once created, we are ready to deploy. To create an instance use the following command :</p><p> <code>eb create {name_of_instance}</code> </p><p>If all goes well, then once the process is complete you can open exacly what you just deployed with the command :</p><p><code>eb open</code></p><p>For future deployments, you would make use of the command :</p><p> <code>eb deploy {name_of_instance}</code></p>
                </div>
            </section>


            <footer class="post-full-footer">


                    
<section class="author-card">
        <img class="author-profile-image" src="http://www.gravatar.com/avatar/f8ec826779357961b44641cda8771980?s=250&amp;d=mm&amp;r=x" alt="Robert Hurst">
    <section class="author-card-content">
        <h4 class="author-card-name"><a href="../author/robert/">Robert Hurst</a></h4>
            <p>Read <a href="../author/robert/">more posts</a> by this author.</p>
    </section>
</section>
<div class="post-full-footer-right">
    <a class="author-card-button" href="../author/robert/">Read More</a>
</div>


            </footer>


        </article>

    </div>
</main>

<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
                <article class="read-next-card" style="background-image: url(https://static.ghost.org/v1.0.0/images/blog-cover.jpg)">
                    <header class="read-next-card-header">
                        <small class="read-next-card-header-sitetitle">— xyz —</small>
                        <h3 class="read-next-card-header-title"><a href="../tag/developer-guide/">Developer Guide</a></h3>
                    </header>
                    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"></path></svg>
</div>
                    <div class="read-next-card-content">
                        <ul>
                            <li><a href="../license/">License</a></li>
                            <li><a href="../introduction/">Introduction</a></li>
                        </ul>
                    </div>
                    <footer class="read-next-card-footer">
                        <a href="../tag/developer-guide/">See all 2 posts →</a>
                    </footer>
                </article>


                <article class="post-card post tag-developer-guide no-image">


    <div class="post-card-content">

        <a class="post-card-content-link" href="../license/">

            <header class="post-card-header">
                    <span class="post-card-tags">Developer Guide</span>
                <h2 class="post-card-title">License</h2>
            </header>

            <section class="post-card-excerpt">
                <p>MIT LicenseCopyright (c) 2018 GEOLYTIXPermission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction,</p>
            </section>

        </a>

        <footer class="post-card-meta">

            <ul class="author-list">
                <li class="author-list-item">

                    <div class="author-name-tooltip">
                        Robert Hurst
                    </div>

                        <a href="../author/robert/" class="static-avatar">
                            <img class="author-profile-image" src="http://www.gravatar.com/avatar/f8ec826779357961b44641cda8771980?s=250&amp;d=mm&amp;r=x" alt="Robert Hurst">
                        </a>
                </li>
            </ul>

            <span class="reading-time">1 min read</span>

        </footer>

    </div>

</article>

        </div>
    </div>
</aside>

<div class="floating-header">
    <div class="floating-header-logo">
        <a href="../">
            <span>xyz</span>
        </a>
    </div>
    <span class="floating-header-divider">—</span>
    <div class="floating-header-title">Deploying</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"></path>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Deploying&amp;url=http://localhost:2368/deploying/" onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"></path></svg>
        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/deploying/" onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"></path></svg>
        </a>
    </div>
    <progress id="reading-progress" class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>




        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="../">xyz</a> © 2019</section>
                <nav class="site-footer-nav">
                    <a href="../">Latest Posts</a>
                    <a href="https://www.facebook.com/ghost" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://twitter.com/tryghost" target="_blank" rel="noopener">Twitter</a>
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>


    <script>
        var images = document.querySelectorAll('.kg-gallery-image img');
        images.forEach(function (image) {
            var container = image.closest('.kg-gallery-image');
            var width = image.attributes.width.value;
            var height = image.attributes.height.value;
            var ratio = width / height;
            container.style.flex = ratio + ' 1 0%';
        })
    </script>


    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="../assets/built/jquery.fitvids.js?v=3c4467f06c"></script>


    <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('#reading-progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();

});
</script>


    

</body>
